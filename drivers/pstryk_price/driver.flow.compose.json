{
    "conditions": [
        {
            "id": "is_currently_cheap",
            "title": { "en": "Is current price cheap" },
            "args": [
                {
                    "name": "device",
                    "type": "device",
                    "filter": "driver_id=pstryk_price"
                }
            ]
        },
        {
            "id": "is_currently_expensive",
            "title": { "en": "Is current price expensive" },
            "args": [
                {
                    "name": "device",
                    "type": "device",
                    "filter": "driver_id=pstryk_price"
                }
            ]
        },
        {
            "id": "is_maximise_period_active",
            "title": { "en": "Is maximise usage period active" },
            "args": [
                {
                    "name": "device",
                    "type": "device",
                    "filter": "driver_id=pstryk_price"
                }
            ]
        },
        {
            "id": "is_minimise_period_active",
            "title": { "en": "Is minimise usage period active" },
            "args": [
                {
                    "name": "device",
                    "type": "device",
                    "filter": "driver_id=pstryk_price"
                }
            ]
        },
        {
            "id": "current_price_compare",
            "title": { "en": "Current price is..." },
            "args": [
                {
                    "name": "device",
                    "type": "device",
                    "filter": "driver_id=pstryk_price"
                },
                {
                    "name": "operator",
                    "type": "dropdown",
                    "label": { "en": "Comparison" },
                    "values": [
                        { "id": "gt", "label": { "en": ">" } },
                        { "id": "lt", "label": { "en": "<" } },
                        { "id": "eq", "label": { "en": "=" } }
                    ]
                },
                {
                    "name": "value",
                    "type": "number",
                    "label": { "en": "Price (PLN/kWh)" },
                    "placeholder": 0.5000,
                    "min": -5,
                    "max": 5,
                    "decimals": 4
                }
            ]
        }
    ],
    "triggers": [
        {
            "id": "current_hour_price_changed",
            "title": { "en": "Current price changed" },
            "tokens": [
                {
                    "name": "current_hour_price",
                    "type": "number",
                    "title": {
                        "en": "PLN/kWh"
                    },
                    "example": 0.505
                }
            ]
        },
        {
            "id": "current_hour_value_changed",
            "title": { "en": "Current price value changed" },
            "tokens": [
                {
                    "name": "current_hour_value",
                    "type": "string",
                    "title": {
                        "en": "hour"
                    },
                    "example": {
                        "en": "2020-01-01T00:00:00Z"
                    }
                }
            ]
        },
        {
            "id": "cheapest_h0_value_changed",
            "title": { "en": "Cheapest price value changed" },
            "tokens": [
                {
                    "name": "cheapest_h0_value",
                    "type": "number",
                    "title": {
                        "en": "PLN/kWh"
                    },
                    "example": 0.505
                }
            ]
        },
        {
            "id": "cheapest_h1_value_changed",
            "title": { "en": "2nd cheapest price value changed" },
            "tokens": [
                {
                    "name": "cheapest_h1_value",
                    "type": "number",
                    "title": {
                        "en": "PLN/kWh"
                    },
                    "example": 0.505
                }
            ]
        },
        {
            "id": "cheapest_h2_value_changed",
            "title": { "en": "3rd cheapest price value changed" },
            "tokens": [
                {
                    "name": "cheapest_h2_valu",
                    "type": "number",
                    "title": {
                        "en": "PLN/kWh"
                    },
                    "example": 0.505
                }
            ]
        },
        {
            "id": "cheapest_h0_changed",
            "title": { "en": "Cheapest hour changed" },
            "tokens": [
                {
                    "name": "cheapest_h0",
                    "type": "string",
                    "title": {
                        "en": "hour"
                    },
                    "example": {
                        "en": "2020-01-01T00:00:00Z"
                    }
                }
            ]
        },
        {
            "id": "cheapest_h1_changed",
            "title": { "en": "2nd next cheapest hour changed" },
            "tokens": [
                {
                    "name": "cheapest_h1",
                    "type": "string",
                    "title": {
                        "en": "hour"
                    },
                    "example": {
                        "en": "2020-01-01T00:00:00Z"
                    }
                }
            ]
        },
        {
            "id": "cheapest_h2_changed",
            "title": { "en": "3rd next cheapest hour changed" },
            "tokens": [
                {
                    "name": "cheapest_h2",
                    "type": "string",
                    "title": {
                        "en": "hour"
                    },
                    "example": {
                        "en": "2020-01-01T00:00:00Z"
                    }
                }
            ]
        },
        {
            "id": "currently_cheap_changed",
            "title": { "en": "Currently cheap changed" },
            "tokens": [
                {
                    "name": "currently_cheap_changed",
                    "type": "boolean",
                    "title": {
                        "en": "Is currently cheap"
                    },
                    "example": true
                }
            ]
        },
        {
            "id": "currently_expensive_changed",
            "title": { "en": "Currently expensive changed" },
            "tokens": [
                {
                    "name": "currently_expensive_changed",
                    "type": "boolean",
                    "title": {
                        "en": "Is currently expensive"
                    },
                    "example": true
                }
            ]
        },
        {
            "id": "maximise_usage_during_changed",
            "title": { "en": "Maximise usage periods changed" },
            "tokens": [
                {
                    "name": "maximise_usage_during",
                    "type": "string",
                    "title": {
                        "en": "Cheap periods"
                    },
                    "example": {
                        "en": "04/17, 01:00 to 04/17, 03:00"
                    }
                }
            ]
        },
        {
            "id": "minimise_usage_during_changed",
            "title": { "en": "Minimise usage periods changed" },
            "tokens": [
                {
                    "name": "minimise_usage_during",
                    "type": "string",
                    "title": {
                        "en": "Expensive periods"
                    },
                    "example": {
                        "en": "04/16, 19:00 to 04/16, 21:00"
                    }
                }
            ]
        },
        {
            "id": "maximise_usage_now_changed",
            "title": { "en": "Maximise usage now status changed" },
            "tokens": [
                {
                    "name": "maximise_usage_now",
                    "type": "boolean",
                    "title": {
                        "en": "Is maximise period"
                    },
                    "example": true
                }
            ]
        },
        {
            "id": "minimise_usage_now_changed",
            "title": { "en": "Minimise usage now status changed" },
            "tokens": [
                {
                    "name": "minimise_usage_now",
                    "type": "boolean",
                    "title": {
                        "en": "Is minimise period"
                    },
                    "example": true
                }
            ]
        }
    ]
}
